(this["webpackJsonpfrontend-task"]=this["webpackJsonpfrontend-task"]||[]).push([[0],{10:function(e,t,n){e.exports=n.p+"static/media/green.4f4f912d.png"},14:function(e,t,n){e.exports=n(20)},19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(3),s=n.n(i),o=(n(19),n(11)),u=n(1),l=n(4),c=n(5),h=n(6),d=n(12),m=n(7),g=n(13),f=n(8),v=n.n(f),b=n(9),p=n.n(b),S=n(10),E=n.n(S),y=function(e){var t=e.green,n=e.red;return r.a.createElement("div",{className:v()("square",{green:t},{red:n})},t&&r.a.createElement("img",{alt:"green",src:E.a}),n&&r.a.createElement("img",{alt:"red",src:p.a}))},w=function(e){var t=e.height,n=e.width,a=e.squares,i=e.handleKeyDown;return r.a.createElement("div",{className:"board",style:{width:"".concat(50*n,"px"),heigh:"".concat(50*t,"px")},tabIndex:"0",onKeyDown:function(e){return i(e)}},a.map((function(e,t){return r.a.createElement(y,{key:t,green:1===e,red:2===e})})))},C=function(e){var t=e.height,n=e.width,a=e.handleSubmit,i=e.handleChange;return r.a.createElement("form",{className:"form",onSubmit:a},r.a.createElement("div",{className:"from-group"},r.a.createElement("label",null,"Height :"),r.a.createElement("input",{type:"number",id:"height",min:"2",max:"100",value:t,onChange:i})),r.a.createElement("div",{className:"from-group"},r.a.createElement("label",null,"Width :"),r.a.createElement("input",{type:"number",id:"width",min:"2",max:"100",value:n,onChange:i})),r.a.createElement("input",{type:"submit",value:"Start the game!"}))},k=function(e){var t=e.movesCount,n=e.reset;return r.a.createElement("div",{className:"score-panel"},r.a.createElement("div",null,"Game over."),r.a.createElement("div",null,"Total moves to save princess: ",t),r.a.createElement("button",{onClick:n},"Restart the game"))},q=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(d.a)(this,Object(m.a)(t).call(this))).initialState={height:10,width:10,gameStarted:!1,gameFinished:!1,squares:[],redSquarePosition:-1,movesCount:0,greenSquaresCount:0},e.state=Object(l.a)({},e.initialState),e}return Object(g.a)(t,e),Object(h.a)(t,[{key:"reset",value:function(){this.setState(this.initialState)}},{key:"handleChange",value:function(e){this.setState(Object(u.a)({},e.target.id,parseInt(e.target.value)))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.generateMatrix(),this.setState({gameStarted:!0})}},{key:"generateMatrix",value:function(){var e=this.state,t=e.height,n=e.width,a=new Array(t*n).fill(0),r=Math.ceil(Math.sqrt(t*n)),i=Math.floor(t*n/2+n/2);a[i]=2;for(var s=0;s<r;s++){var o=Math.floor(Math.random()*t*n);o!==i&&1!==a[o]?a[o]=1:s--}this.setState({squares:a,redSquarePosition:i,greenSquaresCount:r})}},{key:"handleKeyDown",value:function(e){var t=this.state,n=t.squares,a=t.redSquarePosition,r=t.width,i=t.height,s=t.movesCount,u=t.greenSquaresCount,l=t.gameFinished,c={37:{label:"LEFT",isValidMove:function(){var e=a-1;return e>=0&&e%r<a%r},getNewPosition:function(){return a-1}},38:{label:"UP",isValidMove:function(){return a-r>=0},getNewPosition:function(){return a-r}},39:{label:"RIGHT",isValidMove:function(){var e=a+1;return e<i*r&&e%r>a%r},getNewPosition:function(){return a+1}},40:{label:"DOWN",isValidMove:function(){return r*i>a+r},getNewPosition:function(){return a+r}}};if(c[e.keyCode]&&c[e.keyCode].isValidMove()){s++,n=Object(o.a)(n);var h=c[e.keyCode].getNewPosition();1===n[h]&&0===--u&&(l=!0),n[a]=0,n[h]=2,this.setState({squares:n,redSquarePosition:h,movesCount:s,greenSquaresCount:u,gameFinished:l})}}},{key:"render",value:function(){var e=this,t=this.state,n=t.gameStarted,a=t.gameFinished;return n?a?r.a.createElement(k,Object.assign({reset:function(){return e.reset()}},this.state)):r.a.createElement(w,Object.assign({},this.state,{handleKeyDown:function(t){return e.handleKeyDown(t)}})):r.a.createElement(C,Object.assign({},this.state,{handleChange:function(t){return e.handleChange(t)},handleSubmit:function(t){return e.handleSubmit(t)}}))}}]),t}(r.a.Component);s.a.render(r.a.createElement(q,null),document.getElementById("root"))},9:function(e,t,n){e.exports=n.p+"static/media/red.4ddb8934.png"}},[[14,1,2]]]);
//# sourceMappingURL=main.9a7b165b.chunk.js.map